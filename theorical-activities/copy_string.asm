TITLE CREATE A MACRO TO COPY STRING
.MODEL SMALL
.STACK 100H

PUSH_ALL MACRO
  PUSH AX
  PUSH BX
  PUSH CX
  PUSH DX
  PUSH SI
  PUSH DI
ENDM

POP_ALL MACRO
  POP AX
  POP BX
  POP CX
  POP DX
  POP SI
  POP DI
ENDM

COPY_STRING MACRO INPUT,OUTPUT,QUANTITY
  PUSH_ALL

  PUSH SI
  PUSH DI

  LEA SI,INPUT
  LEA DI,OUTPUT
  
  MOV CX,QUANTITY

  COPY:
    MOV DL,[SI]
    MOV [DI],DL

    INC SI
    INC DI
  LOOP COPY

  POP_ALL

ENDM

PRINT_STRING MACRO OUTPUT,QUANTITY
  PUSH_ALL

  LEA SI,OUTPUT

  MOV AH,02H
  
  MOV CX,QUANTITY

  PRINT:
    MOV DL,[SI]
    INT 21H
    INC SI
  LOOP PRINT

  POP_ALL

ENDM

.DATA
  STRING_INPUT DB 10 DUP('X')
  STRING_OUTPUT DB 10 DUP(?)
.CODE
MAIN PROC

  MOV AX,@DATA
  MOV DS,AX

  COPY_STRING STRING_INPUT,STRING_OUTPUT,10
  PRINT_STRING STRING_OUTPUT,10

  MOV AH,4CH
  INT 21H

MAIN ENDP
END MAIN